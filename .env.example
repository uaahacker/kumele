# Kumele AI/ML Service - Environment Variables
# Copy this file to .env and fill in the values

# Application
APP_ENV=development
APP_DEBUG=true
SECRET_KEY=change-this-to-a-secure-random-string
API_KEY=your-internal-api-key-here

# Database (PostgreSQL)
DATABASE_URL=postgresql://kumele:kumele@postgres:5432/kumele_ai
POSTGRES_PASSWORD=kumele

# Redis
REDIS_URL=redis://redis:6379/0

# Qdrant Vector Database
QDRANT_URL=http://qdrant:6333
QDRANT_COLLECTION=knowledge_embeddings

# Translation Service (Argos/LibreTranslate)
# Leave empty to disable translation (saves RAM on small servers)
TRANSLATE_URL=http://argos:5000

# =============================================================================
# LLM Configuration
# =============================================================================
# Provider options:
#   - "openrouter" : Use OpenRouter cloud API (recommended for development/testing)
#   - "local"      : Use local Mistral via TGI (requires GPU server)
#   - "auto"       : Try local first, fallback to OpenRouter if unavailable
LLM_PROVIDER=openrouter

# Local LLM (Mistral via TGI) - Only needed when LLM_PROVIDER is "local" or "auto"
LLM_API_URL=http://mistral:8080
LLM_MODEL=mistralai/Mistral-7B-Instruct-v0.2

# OpenRouter Configuration - Get your API key from https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-v1-your-key-here
OPENROUTER_API_URL=https://openrouter.ai/api/v1
# Available models (check https://openrouter.ai/models for pricing):
#   - mistralai/mistral-7b-instruct (cheapest, ~$0.06/1M tokens)
#   - meta-llama/llama-3.1-8b-instruct (~$0.06/1M tokens)
#   - google/gemma-2-9b-it (~$0.08/1M tokens)
#   - anthropic/claude-3-haiku (~$0.25/1M tokens)
OPENROUTER_MODEL=mistralai/mistral-7b-instruct
OPENROUTER_SITE_URL=https://kumele.ai
OPENROUTER_SITE_NAME=Kumele

# =============================================================================
# SMTP Configuration (for email features)
# =============================================================================
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM_EMAIL=support@kumele.ai

# Embedding Model (runs locally, no API needed)
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Moderation Thresholds
MODERATION_TEXT_TOXICITY_THRESHOLD=0.60
MODERATION_TEXT_HATE_THRESHOLD=0.30
MODERATION_TEXT_SPAM_THRESHOLD=0.70
MODERATION_IMAGE_NUDITY_THRESHOLD=0.60
MODERATION_IMAGE_VIOLENCE_THRESHOLD=0.50
MODERATION_IMAGE_HATE_THRESHOLD=0.40

# Nominatim Geocoding (OpenStreetMap - free, no API key needed)
NOMINATIM_URL=https://nominatim.openstreetmap.org
NOMINATIM_USER_AGENT=KumeleAI/1.0 (support@kumele.ai)
NOMINATIM_TIMEOUT_SEC=10
NOMINATIM_CACHE_TTL_SEC=86400

# Celery (async task queue)
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
